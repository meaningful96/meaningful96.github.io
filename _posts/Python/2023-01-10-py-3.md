---
title: Python 문법 총 정리(3) - 파일 입출력,함수,클래스,예외 처리

categories: 
  - py
  
tags:
  - [Python]
  
toc: true
toc_sticky: true

date: 2023-01-10
last_modified_at: 2023-01-10
---

## 1. 파일 입출력
### Definition
- 일반적으로 **표준 입출력**을 사용하는 프로그램은 키보드로부터 입력을 받아 모니터로 결과를 보냄
- 프로그램이 종료된 이후에도 데이터를 저장하기 위해서 **파일 입출력**을 사용할 수 있다.
- 파일 객체를 만든 때는 **open()**, 객체를 닫을 때는 **close()**

```
f = open('example.txt', "w")
f.close()
```

- 파이썬에서눈 여러 가지 파일 모드(mode)를 제공한다,.
  - r : **읽기(Read)** 모드(파일 읽기)
  - w : **쓰기(Write)**모드(파일에 내용물 쓰기)
  - a : **추가(Append)**모드(파일의 마지막에 새로운 내용 추가)

### 파일 출력, write() 함수
- 파일의 데이터를 쓸 때는 **write()** 함수를 사용할 수 있다.
- 줄바꿈 기호(\n)을 사용하여, 줄을 변결할 수 있다.
- 여러 줄에 걸쳐서 파일에 데이터를 작설할 수 있다.

```python
file_1 = open("result.txt", "w")
for line in range(1,6):
  data = f"{line}번째 줄\n"
  f.write(data)
f.close()
```

### 파일 읽기, readline(), strip(), read()
- <span style = "color:aqua">**readline()**</span> 함수를 이용하면 파이르이 데이터를 한 줄씩 읽을 수 있다.
- 각 줄을 출력할 때 줄의 마지맞에 줄바꿈 기호도 함께 포함된다
  - **strip()함수**를 사용하지 않으면, 두 줄씩 줄바꿈이 수행된다.
 
**[Input]**
```pyhton
f = open("result.txt", "r")
while True:
  line = f.readline()
  if not line: # 더 읽을 문장이 없다면  
    break
  else:
    print(line.strip())
f.close()
```

**[Output]**
```
1번째 줄
2번째 줄
3번째 줄
4번째 줄
5번째 줄
```

- 파일의 모든 줄을 한꺼번에 읽을 떄는 **readlines()** 함수를 사용할 수 있다.
- readlines() 함수는 기본적으로 각 줄을 그대로 읽기 때문에 줄바꿈 기호(\n)가 포함된다.
- 줄바꿈 기호를 제거하기 위해 **strip()**을 사용할 수 있다.
  - strip() 함수를 사용하지 않으면, 두 줄씩 줄바꿈이 수행된다.

**[Input]**  
```python
# f를 data.txt파일로 열고 내용 입력
f = open("data.txt", 'w')
f.write("안녕하세요.\n")
f.write("반갑습니다.\n")
f.write("행복하세요~!\n")
f.close()

f =  open("data.txt", "r")
lines = f.readlines()
for i in range(len(lines)):
  line = lines[i].strip()
  print(f"{i}번째 줄의 내용: {line}")
f.close()
```

**[Output]**
```
0번째 줄의 내용: 안녕하세요.
1번째 줄의 내용: 반갑습니다.
2번째 줄의 내용: 행복하세요~!
```

- **read()** 함수를 사용하면 파일의 전체 내용을 하나의 문자열로 반환한다.

**[Input]**
```python
f = open("data.txt", 'r')
data = f.read()
print(data)
f.close()
```

**[Output]**
```
안녕하세요.
반갑습니다.
행복하세요~!
```

### 파일 객체 자동으로 열고 닫기, open(), close() 함수
- 다음의 문법을 활용하여 파일 객체를 자동으로 여닫을 수 있다.
- **open(), close()** 함수의 기능이 함께 사용된다.

```
with open(파일 이름, 파일 열기 모드)as f:
  파일 객체 f를 이용하는 코드
```

```python
file_name = "output.txt"
with open(file_name, 'w') as f:
  f.write("Hello World")
```

## 2. 함수의 이해와 활용
### Definition
- 전체 소스코드를 기능별로 분리하여 작성하는 것이 효율적
- **함수**를 이영해 소스 코드를 기능별로 분리할 수 있음
- **def문**을 사용

```python
def add(a,b,c):
  result = a + b + c
  return result
  
print(add(3,1,5))
-> 9
```

### Example 1) MaxIndex
- 리스트 내 원소 중에서 가장 큰 값의 인덱스를 리턴
```python
def find_max_index(arr):
  max_index = 0
  for i in range(len(arr)):
    if arr[max_index]<arr[i]:
      max_index = i
  return max_index

data = [7,1,5,9,3,2,4]
max_index = find_max_index(data)
print(max_index)
-> 3
```

### Example 2) find_certain_value
