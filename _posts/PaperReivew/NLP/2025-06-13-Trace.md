---
title: "[논문리뷰]TRACE: Constructing Knowledge-Grounded Reasoning Chains for Retrieval-Augmented Generation"

categories: 
  - NR
  
toc: true
toc_sticky: true

date: 2025-06-13
last_modified_at: 2025-06-13
---

*Jinyuan Fang, Zaiqiao Meng, and Craig MacDonald*. “[**TRACE the Evidence: Constructing Knowledge-Grounded Reasoning Chains for Retrieval-Augmented Generation**](https://aclanthology.org/2024.findings-emnlp.496/).” In Findings of the Association for Computational Linguistics: EMNLP 2024, pages 8472–8494, Miami, Florida, USA.

# Problem Statement
<p align="center">
<img width="600" alt="1" src="https://github.com/meaningful96/Blogging/blob/main/Paper_Review/%5B2025.06.13%5DTRACE/Trace1.png?raw=true">
</p>

이 논문은 다중 문서에서 정보를 통합해 복잡한 질문에 답해야 하는 **multi-hop question answering(MHQA)** 문제를 해결함에 있어, 기존 RAG 모델들이 다음과 같은 한계점을 지적한다.
- **irrelevant한 문서를 검색**하여 노이즈를 유입시키고, 이로 인해 추론 성능이 저하됨.
- 특히 단순히 retriever가 가져온 문서를 LLM에 연결(concatenation)하는 기존 방식은, **다중 홉 추론에 필요한 근거(evidence)**를 효과적으로 구성하지 못함.

이를 해결하기 위해 저자들은 **문서들을 Knowledge Graph(KG)로 변환**하고, 이 KG로부터 **논리적으로 연결된 추론 체인(Reasoning Chain)을 구성**하여, 보다 정제된 supporting evidence를 RAG 모델에 제공하는 방법인 **TRACE**를 제안한다.

<br/>
<br/>

# Methodology
## Overview
<p align="center">
<img width="1000" alt="1" src="https://github.com/meaningful96/Blogging/blob/main/Paper_Review/%5B2025.06.13%5DTRACE/Trace2.png?raw=true">
</p>

TRACE는 multi-hop 질문에 대한 정답을 생성하기 위해, 검색된 문서로부터 Knowledge Graph(KG)를 생성하고, 이 KG로부터 논리적으로 연결된 reasoning chain을 autoregressive하게 구성하며, 최종적으로 이 reasoning chain을 기반으로 정답을 생성하는 RAG 프레임워크이다. 전체 확률 모델은 다음과 같이 정의된다:

- $$q$$: 질문
- $$D_q$$: 질문에 대해 검색된 문서 집합
- $$G_q$$: $$D_q$$로부터 생성된 KG
- $$z$$: KG에서 생성된 추론 체인
- $$a$$: 생성된 정답

## KG Generator
- **입력**: 검색된 문서들 (by Original Question, $$D_q$$)
- **출력**: Knowledge Graph
    - Head: 문서의 title
    - Tail: Body (text에서 추출된 entity나 문장)
- **구성 요소**:
    - **Triple Ranker**: bi-encoder 모델(E5-Mistral)을 사용하여 현재 context(질문 + 이전에 선택된 triple들)와 관련성이 높은 top-K candidate triple들을 선택.
    - **Triple Selector**: LLaMA3-8B-Instruct를 사용하여 multiple-choice 형태로 candidate triple 중에서 다음 triple을 선택. 특별한 "A" 옵션으로 reasoning chain 종료 가능.
- Autoregressive 방식으로 각 단계에서 이전에 선택된 triple들을 고려하여 다음 triple을 선택. Beam search를 사용하여 R개의 reasoning chain 생성.
- 모든 문서에 대해 **독립적으로** triple을 생성하여, long input에서 중간 정보가 누락되는 “lost-in-the-middle” 현상을 방지.

KG Generator는 검색된 문서 집합 $$D_q$$를 입력으로 받아, 각 문서로부터 ⟨head, relation, tail⟩ 형태의 triple을 추출하여 KG $$G_q$$를 생성한다. KG는 문서 title을 head entity로 간주하고, 본문(text)에서 tail entity와 그와의 관계(relation)를 추출함으로써 구성된다. 각 문서 $$d_i \in D_q$$에 대해:




## Reasoning Chain Constructor

## Answer Generator


<br/>
<br/>

# Experiments



<br/>
<br/>

# Conclusion
